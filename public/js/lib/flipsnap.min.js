!function(t,s,i){var o=s.createElement("div"),e=["webkit","moz","o","ms"],a={},c={},u=!1;c.transform3d=v(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),c.transform=v(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),c.transition=v(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),c.addEventListener="addEventListener"in t,c.mspointer=t.navigator.msPointerEnabled,c.cssAnimation=(c.transform3d||c.transform)&&c.transition;var r=["touch","mouse","pointer"],m={start:{touch:"touchstart",mouse:"mousedown",pointer:"MSPointerDown"},move:{touch:"touchmove",mouse:"mousemove",pointer:"MSPointerMove"},end:{touch:"touchend",mouse:"mouseup",pointer:"MSPointerUp"}};function n(t,e){return this instanceof n?this.init(t,e):new n(t,e)}function p(t,e){return t.changedTouches?t.changedTouches[0][e]:t[e]}function v(t){return h(t,function(t){return o.style[t]!==i})}function l(n,r,o){var t=a[r];t?n[t]=o:n[r]!==i?(a[r]=r,n[r]=o):h(e,function(t){var e=f(t)+f(r);if(n[e]!==i)return a[r]=e,n[e]=o,!0})}function d(n){return o.style[n]!==i?n:(h(e,function(t){var e=f(t)+f(n);if(o.style[e]!==i)return r="-"+t+"-"+n,!0}),r);var r}function f(t){return t.charAt(0).toUpperCase()+t.substr(1)}function h(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1}function P(t,e,n,r,o){var i=s.createEvent("Event");if(i.initEvent(e,n,r),o)for(var a in o)i[a]=o[a];return t.dispatchEvent(i)}c.addEventListener&&(s.addEventListener("gesturestart",function(){u=!0}),s.addEventListener("gestureend",function(){u=!1})),n.prototype.init=function(t,e){var n=this;if("string"==typeof(n.element=t)&&(n.element=s.querySelector(t)),!n.element)throw new Error("element not found");return c.mspointer&&(n.element.style.msTouchAction="none"),e=e||{},n.distance=e.distance,n.maxPoint=e.maxPoint,n.disableTouch=e.disableTouch!==i&&e.disableTouch,n.disable3d=e.disable3d!==i&&e.disable3d,n.transitionDuration=e.transitionDuration===i?"350ms":e.transitionDuration+"ms",n.currentPoint=0,n.currentX=0,n.animation=!1,n.use3d=c.transform3d,!0===n.disable3d&&(n.use3d=!1),c.cssAnimation?n._setStyle({transitionProperty:d("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:n._getTranslate(0)}):n._setStyle({position:"relative",left:"0px"}),n.refresh(),r.forEach(function(t){n.element.addEventListener(m.start[t],n,!1)}),n},n.prototype.handleEvent=function(t){var e=this;switch(t.type){case m.start.touch:case m.start.mouse:case m.start.pointer:e._touchStart(t);break;case m.move.touch:case m.move.mouse:case m.move.pointer:e._touchMove(t);break;case m.end.touch:case m.end.mouse:case m.end.pointer:e._touchEnd(t);break;case"click":e._click(t)}},n.prototype.refresh=function(){var o=this;o._maxPoint=o.maxPoint===i?function(){for(var t=o.element.childNodes,e=0,n=0,r=t.length;n<r;n++)1===t[n].nodeType&&e++;return 0<e&&e--,e}():o.maxPoint,o._distance=o.distance===i?o.element.scrollWidth/(o._maxPoint+1):o.distance,o._maxX=-o._distance*o._maxPoint,o.moveToPoint()},n.prototype.hasNext=function(){return this.currentPoint<this._maxPoint},n.prototype.hasPrev=function(){return 0<this.currentPoint},n.prototype.toNext=function(t){var e=this;e.hasNext()&&e.moveToPoint(e.currentPoint+1,t)},n.prototype.toPrev=function(t){var e=this;e.hasPrev()&&e.moveToPoint(e.currentPoint-1,t)},n.prototype.moveToPoint=function(t,e){var n=this;e=e===i?n.transitionDuration:e+"ms";var r=n.currentPoint;t===i&&(t=n.currentPoint),t<0?n.currentPoint=0:t>n._maxPoint?n.currentPoint=n._maxPoint:n.currentPoint=parseInt(t,10),c.cssAnimation?n._setStyle({transitionDuration:e}):n.animation=!0,n._setX(-n.currentPoint*n._distance,e),r!==n.currentPoint&&(P(n.element,"fsmoveend",!0,!1),P(n.element,"fspointmove",!0,!1))},n.prototype._setX=function(t,e){var n=this;n.currentX=t,c.cssAnimation?n.element.style[a.transform]=n._getTranslate(t):n.animation?n._animate(t,e||n.transitionDuration):n.element.style.left=t+"px"},n.prototype._touchStart=function(e){var n=this;n.disableTouch||n._eventType||u||(h(r,function(t){if(e.type===m.start[t])return n._eventType=t,!0}),n.element.addEventListener(m.move[n._eventType],n,!1),s.addEventListener(m.end[n._eventType],n,!1),"mouse"===n._eventType&&e.preventDefault(),c.cssAnimation?n._setStyle({transitionDuration:"0ms"}):n.animation=!1,n.scrolling=!0,n.moveReady=!1,n.startPageX=p(e,"pageX"),n.startPageY=p(e,"pageY"),n.basePageX=n.startPageX,n.directionX=0,n.startTime=e.timeStamp,P(n.element,"fstouchstart",!0,!1))},n.prototype._touchMove=function(t){var e=this;if(e.scrolling&&!u){var n,r,o,i,a=p(t,"pageX"),s=p(t,"pageY");if(e.moveReady)t.preventDefault(),t.stopPropagation(),n=a-e.basePageX,(0<=(r=e.currentX+n)||r<e._maxX)&&(r=Math.round(e.currentX+n/3)),e.directionX=0===n?e.directionX:0<n?-1:1,!P(e.element,"fstouchmove",!0,!0,{delta:n,direction:e.directionX})?e._touchAfter({moved:!1,originalPoint:e.currentPoint,newPoint:e.currentPoint,cancelled:!0}):e._setX(r);else o=Math.abs(a-e.startPageX),i=Math.abs(s-e.startPageY),5<o?(t.preventDefault(),t.stopPropagation(),e.moveReady=!0,e.element.addEventListener("click",e,!0)):5<i&&(e.scrolling=!1);e.basePageX=a}},n.prototype._touchEnd=function(t){var e=this;if(e.element.removeEventListener(m.move[e._eventType],e,!1),s.removeEventListener(m.end[e._eventType],e,!1),e._eventType=null,e.scrolling){var n=-e.currentX/e._distance;(n=0<e.directionX?Math.ceil(n):e.directionX<0?Math.floor(n):Math.round(n))<0?n=0:n>e._maxPoint&&(n=e._maxPoint),e._touchAfter({moved:n!==e.currentPoint,originalPoint:e.currentPoint,newPoint:n,cancelled:!1}),e.moveToPoint(n)}},n.prototype._click=function(t){t.stopPropagation(),t.preventDefault()},n.prototype._touchAfter=function(t){var e=this;e.scrolling=!1,e.moveReady=!1,setTimeout(function(){e.element.removeEventListener("click",e,!0)},200),P(e.element,"fstouchend",!0,!1,t)},n.prototype._setStyle=function(t){var e=this.element.style;for(var n in t)l(e,n,t[n])},n.prototype._animate=function(t,e){var r=this.element,o=+new Date,i=parseInt(r.style.left,10),a=t,s=parseInt(e,10),c=setInterval(function(){var t,e,n=new Date-o;t=s<n?(clearInterval(c),a):(e=n,-(e/=s)*(e-2)*(a-i)+i),r.style.left=t+"px"},10)},n.prototype.destroy=function(){var e=this;r.forEach(function(t){e.element.removeEventListener(m.start[t],e,!1)})},n.prototype._getTranslate=function(t){return this.use3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)"},n._privates=function(){return{support:c,getPage:p,hasProp:v,setStyle:l,getCSSVal:d,ucFirst:f,some:h,triggerEvent:P}},t.Flipsnap=n}(window,window.document);