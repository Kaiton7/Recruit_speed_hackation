TWNSP.detail={toggleAppDestInfo:function(a){var b=$(a),c=b.closest(".jsc-app-inner-wrapper"),d=c.find(".jsc-app-info");d.toggleClass("jsc-dn"),c.toggleClass("jsc-toggle-opened"),b.toggleClass("ico-arrow-s-down ico-arrow-s-up"),b.closest(".jsc-app-headline").toggleClass("jsc-company-info-lst-opened")},toggleAccordion:function(a){var b=$(a),c=b.closest(".jsc-accordion-trigger").next("ul");b.toggleClass("ico-arrow-up ico-arrow-down"),c.toggleClass("jsc-dn")},showScrollUp:function(){if($(".jsc-btn-fixed").length){var a,b,c,d,e=$(".jsc-btn-fixed"),f=0,g=!0;$("#jsi-carousel-img-wrapper").length&&(f=$(".txt-h2-cw-thin").eq(0).offset().top),$(window).scroll(function(){g&&$(".jsc-detail-app-combine-contents").length<1&&(b=a-$(window).scrollTop(),a=$(window).scrollTop(),$(".jsc-hd-detail-rec").length?(recOptionPosition=10,c=$(".jsc-hd-detail-rec").offset().top-recOptionPosition,d=a-c,b>=0&&0>=d?0!=f&&f>=a?e.fadeOut(80):e.fadeIn(80):d>=0&&e.fadeOut(80)):b>=0&&(0!=f&&f>=a?e.fadeOut(80):(e.fadeIn(80),g=!0)))})}},inflowFixed:function(){var a,b,c=$(".jsc-inflow-fixed-wrap");return{scrollVal:function(){($(".jsc-txt-h2-share").length||$(".company-info-aside").length)&&(a=$(".jsc-txt-h2-share").offset().top,this.judgeSlide())},judgeSlide:function(){var c=this;$(window).scroll(function(){b=$(window).scrollTop()+$(window).height()/2+130,0>a-b?c.showFixed():c.hideFixed()})},showFixed:function(){c.addClass("jsc-entry-fixed-slide-in").removeClass("jsc-dn jsc-entry-fixed-slide-out")},hideFixed:function(){c.addClass("jsc-entry-fixed-slide-out").removeClass("jsc-entry-fixed-slide-in")},removeFixed:function(){c.stop().animate({opacity:0,bottom:-180},400,function(){c.remove()})}}}(),carouselImg:function(){var a,b,c,d,e,f,g,h,i,j,k=$("#jsi-carousel-img-wrapper"),l=k.find(".jsc-carousel-img-indicator-lst"),m=l.children(),n=$(".jsc-image-load"),o=!0;return{init:function(){k.length&&(this.constructCarousel(),this.attachCarouselEvent(),this.setMaxHeight(this.getMaxHeight()))},constructCarousel:function(){a=k.find(".jsc-carousel-img-lst"),b=a.children(),d=$(".jsc-carousel-img-lst li").width(),g=TWNSP.common.ua.firefox,h=TWNSP.common.ua.android,g&&h?(i=screen.width,d=$(".twn-shop-pic-lst").length?282:242):i=$(window).width(),k.find(".pager-detail-inner").length&&$(".pager-detail-inner").css({width:i});var e=b.length*d;a.css({width:e,marginLeft:(i-d)/2-10}),b.removeClass("jsc-dn"),c?c.refresh():c=new Flipsnap(".jsc-carousel-img-lst",{disable3d:window.navigator.userAgent.indexOf("android")>-1,transitionDuration:700}),1===b.length&&(c.disableTouch=!0)},refresh:function(){if(k.length){var a=this;setTimeout(function(){a.constructCarousel()},300)}},attachCarouselEvent:function(){var a=this;c.element.addEventListener("fspointmove",function(){a.setIndicator(c.currentPoint),s.getIPVCalc(),a.toggleTxt(c.currentPoint)},!1),c.element.addEventListener("touchstart",function(){},!1),c.element.addEventListener("touchend",function(){},!1)},slide:function(){c.hasNext()?c.toNext():c.moveToPoint(0)},toggleIndicator:function(){e=m.filter(".jsc-current-indicator"),f=e.next().length?e.next():m.eq(0),e.removeClass("jsc-current-indicator pager-nav-current"),f.addClass("jsc-current-indicator pager-nav-current")},setIndicator:function(a){o&&(this.imageDelayLoad(),o=!1),e=m.filter(".jsc-current-indicator"),e.removeClass("jsc-current-indicator pager-nav-current"),m.eq(a).addClass("jsc-current-indicator pager-nav-current")},refreshIndicator:function(){this.setIndicator(0)},imageDelayLoad:function(){for(var a=0;a<n.length;a++){var b=$(n[a]).data("image-src");$(n[a]).attr("src",b)}},getMaxHeight:function(){for(var a,c=0,d=0,e=b.length;e>d;d++)a=b.eq(d).find("img").height(),a>c&&(c=a);return c},setMaxHeight:function(a){var c;$(".shop-pic-lst-img-box").height(a);for(var d=0,e=b.length;e>d;d++)c=b.eq(d).find("img").height(),b.eq(d).find("img").addClass("jsc-shop-pic-resize")},toggleTxt:function(a){j&&clearTimeout(j),j=setTimeout(function(){b.find(".jsc-shop-pic-lst-txt-wrap").animate({opacity:0},100),b.eq(a).find(".jsc-shop-pic-lst-txt-wrap").animate({opacity:1},300)},400)}}}(),modal:function(){var a,b,c,d,e,f,g,h,i;return{duration:300,initModal:function(a){this.$target||(c=$(a),b=c.index(".jsc-modal-link"),e=c.data("modal-url"),f=c.data("map-id"),g=c.data("map-category"),h=c.data("lat"),i=c.data("lon"),this.showOverlay())},showOverlay:function(){a=$("#jsi-modal-overlay"),a.addClass("jsc-fullscreen").animate({opacity:.7},this.duration,$.proxy(this.loadModalContent,this))},getCenterPos:function(a){return{h:$(document).height()/2-a.outerHeight()/2,w:$(window).width()/2-a.outerWidth()/2}},loadModalContent:function(){$.ajax({url:e,cache:!1,data:{mapId:f,mapCategory:g}}).done(function(a){TWNSP.detail.modal.showModal(a),TWNSP.common.telNumberChange.moveDataNumber()})},showModal:function(a){d=$("#jsi-detail-modal-wrapper"),d.append(a).css({opacity:0,top:$(window).scrollTop()+10,marginLeft:-(d.width()/2)}).animate({opacity:1},this.duration),this.embedMap(h,i),this.attachDestroyEvent()},createScript:function(a,b){a.html($("<script></script>"));var c=a.find("script");c.attr("src",b)},embedMap:function(a,b){google.load("maps","3.9",{other_params:"client=gme-recruitjobscoltd&sensor=true&region=JP",callback:function(){var c=new google.maps.LatLng(a,b),d={zoom:15,center:c,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("jsi-map-area"),d);new google.maps.Marker({position:c,map:e,title:""})}})},attachDestroyEvent:function(){d.find(".jsc-modal-close-link").on("click",function(a){a.preventDefault()}).on(TWNSP.common.event.touchend,$.proxy(function(a){a.preventDefault(),this.hideModal()},this))},hideModal:function(){a.off("click").animate({opacity:0},this.duration,function(){a.removeClass("jsc-fullscreen")}),d.animate({opacity:0},this.duration,function(){d.empty()})}}}(),showSlideFooter:function(){var a,b,c,d=$(".jsc-entry-fixed");return{init:function(){($(".jsc-txt-h2-share").length||$(".company-info-aside").length)&&(b=$(".jsc-txt-h2-share").offset().top,c=$(".company-info-aside").offset().top,this.judgeSlide())},judgeSlide:function(){var d=this;$(window).on("scroll",function(){a=$(window).scrollTop()+50,b>a||a>c?d.slideOut():d.slideIn()})},slideIn:function(){d.addClass("jsc-entry-fixed-slide-in").removeClass("jsc-dn jsc-entry-fixed-slide-out")},slideOut:function(){d.addClass("jsc-entry-fixed-slide-out").removeClass("jsc-entry-fixed-slide-in")}}}(),meritIcon:function(){var a,b,c,d,e,f;return{init:function(){a=$(".jsc-shop-detail-merit-lst").find("li"),b=a.length,c=a.width(),d=b*c,this.judgeResize()},judgeResize:function(){$meritLst=$(".jsc-shop-detail-merit-lst"),windowWidth=$(window).width(),e=$("#jsi-shop-detail-merit-wrap").width()-40,f=Math.round(e/c)*c,$meritLst.css("width",f),windowWidth>d?$meritLst.css("width",d):e>f&&$meritLst.css("width",f)}}}(),readMore:function(){var a=$(".jsc-carousel-img-lst").find("li"),b=24,c=a.length,d=[];return{init:function(){this.setHeight(),$(".jsc-shop-pic-lst-txt-wrap").eq(0).animate({opacity:1},300)},setHeight:function(){for(var e=0;c>e;e++){var f=a.eq(e).find("p").height();f>b&&a.eq(e).find("p").addClass("jsc-shop-detail-txt-collapse"),d.push(f)}$(".jsc-shop-pic-lst-txt-wrap").find("p").css("height",b)},slideTxt:function(b){if(b.find("p").hasClass("jsc-shop-detail-txt-collapse")){var c=b.closest("li").index(),e=a.eq(c).find("p");e.removeClass("jsc-shop-detail-txt-collapse").animate({height:d[c]},300)}}}}(),updateConfModal:function(){var a,b,c,d=$("#jsi-modal-overlay");return{reloadStatus:function(a){a.preventDefault(),location.reload()},getTxtAdd:function(e){$(".jsc-job-cst-trigger").length?d.hasClass("jsc-fullscreen")?(a=$(e).closest(".jsc-detail-modal-wrapper"),d.addClass("jsc-forefront")):a=$(e).closest(".jsc-job-cst-trigger"):(a=$(e).closest(".jsc-job-trigger"),d.hasClass("jsc-fullscreen")&&d.addClass("jsc-forefront")),b=a.find(".jsc-job-txt").html(),c=a.find(".jsc-company-txt").html(),$(".jsc-update-job-txt").html(b),$(".jsc-update-company-txt").html(c)}}}(),btnLogAdd:function(){return{btnLineLog:function(a,b,c,d){var e=a+"-"+b+"-"+c;s.prop55=e,s.linkTrackVars="prop55",s.tl(!0,"o",e),s.linkTrackVars="None",s.linkTrackEvents="None",setTimeout(function(){window.location.href=d.attr("data-url")},500)}}}()},$(window).on("orientationchange",function(){$("#jsi-carousel-img-wrapper").length&&(TWNSP.detail.carouselImg.refresh(),TWNSP.detail.carouselImg.constructCarousel())}),$(document.body).on("click",".jsc-modal-link",function(a){a.preventDefault(),TWNSP.detail.modal.initModal(this)}),$(".jsc-inflow-fixed-wrap").on("click",".jsc-inflow-close",function(a){a.preventDefault(),TWNSP.detail.inflowFixed.removeFixed()}),$("#jsi-app-dest-info-wrapper, .jsc-app-other-require-wrapper").on("click",".jsc-toggle-link",function(a){a.preventDefault()}).on(TWNSP.common.event.touchend,".jsc-toggle-link",function(a){a.preventDefault(),TWNSP.detail.toggleAppDestInfo(this)}),$("#jsi-detail-modal-wrapper").on("click",".jsc-accordion-trigger a",function(a){a.preventDefault()}).on(TWNSP.common.event.touchmove,".jsc-accordion-trigger a",function(){TWNSP.common.isTouchDevice&&(TWNSP.common.isTouchMove=!0)}).on(TWNSP.common.event.touchend,".jsc-accordion-trigger a",function(a){a.preventDefault(),TWNSP.common.isTouchDevice?(TWNSP.common.isTouchMove||TWNSP.detail.toggleAccordion(this),TWNSP.common.isTouchMove=!1):TWNSP.detail.toggleAccordion(this),$("#pageid-detail-sp").length>0&&$(this).hasClass("ico-arrow-up")&&_sc_trackCustomLink_notTransition("MORE_NEAR_STATION")}),$(".jsc-btn-direct-srch-detail").on("click",function(a){a.preventDefault(),location.reload()}),$(window).on("load",function(){$("#jsi-script-api").length&&TWNSP.detail.modal.createScript($("#jsi-script-api"),"//www.google.com/jsapi")}),$(function(){TWNSP.common.tapHover(),TWNSP.detail.carouselImg.init()}),TWNSP.detail.showScrollUp(),$(window).on("load",function(){TWNSP.detail.carouselImg.init(),TWNSP.detail.readMore.init()}),$(window).on("load",function(){$(".jsc-inflow-fixed-wrap").length&&TWNSP.detail.inflowFixed.scrollVal(),TWNSP.detail.showSlideFooter.init(),TWNSP.detail.meritIcon.init()}),$(window).on("resize",function(){TWNSP.detail.meritIcon.judgeResize()}),$(".jsc-shop-pic-lst-txt-wrap").on("click",function(){var a=$(this);TWNSP.detail.readMore.slideTxt(a)}),$(".jsc-btn-update-ok").on("click",function(a){TWNSP.detail.updateConfModal.reloadStatus(a)}),$(".jsc-line-log01").on("click",function(){var a=$(this);TWNSP.detail.btnLogAdd.btnLineLog("share_line","SCS0401_0101","00",a)}),$(".jsc-app-bnr-link-log").on("click",function(a){a.preventDefault();var b="app_banner-SCS0401_0101：求人詳細-求人内容の下";TWNSP.common.jumpDataUrl(this),TWNSP.common.btnLogAdd.btnAppLog(b)});